/* ===== CSS RESET & BASE ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    overflow-x: hidden;
}

body {
    font-family: 'Inter', sans-serif;
    color: white;
    background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #f5576c, #4facfe, #00f2fe);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
    position: relative;
    min-height: 100vh;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ===== BACKGROUND ANIMATIONS ===== */
#background-animations {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
}
.star{position:absolute;background:white;border-radius:50%;animation:moveStar linear infinite}@keyframes moveStar{from{transform:translate(var(--start-x),-10vh) scale(1);opacity:1}to{transform:translate(var(--end-x),110vh) scale(.5);opacity:0}}#milky-way-container{width:100%;height:100%;background:radial-gradient(ellipse at 50% 150%,rgba(135,147,185,.2) 0%,transparent 70%),radial-gradient(ellipse at 80% 80%,rgba(135,147,185,.1) 0%,transparent 60%),radial-gradient(ellipse at 20% 50%,rgba(135,147,185,.15) 0%,transparent 80%);background-size:200% 200%;animation:milkyWayPan 120s ease-in-out infinite alternate}@keyframes milkyWayPan{from{background-position:0% 0%;transform:rotate(0deg)}to{background-position:100% 100%;transform:rotate(15deg)}}.petal{position:absolute;top:-10%;width:15px;height:15px;background:rgba(255,182,193,.8);border-radius:1px 50%;opacity:0;animation:fall 20s linear infinite}@keyframes fall{from{transform:translateY(0) rotate(0deg);opacity:1}to{transform:translateY(110vh) rotate(720deg);opacity:0}}.firefly{position:absolute;width:6px;height:6px;background:#a8ff78;border-radius:50%;box-shadow:0 0 10px #a8ff78,0 0 20px #a8ff78;animation:fly 15s linear infinite,pulse 3s ease-in-out infinite alternate}@keyframes fly{from{transform:translate(var(--start-x),var(--start-y))}to{transform:translate(var(--end-x),var(--end-y))}}@keyframes pulse{from{opacity:.3}to{opacity:1}}.bubble{position:absolute;bottom:-20px;width:10px;height:10px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:50%;animation:rise 25s linear infinite}@keyframes rise{from{transform:translateY(0) translateX(0);opacity:1}to{transform:translateY(-110vh) translateX(var(--drift-x));opacity:0}}.twinkle-star{position:absolute;background:white;border-radius:50%;animation:twinkle 5s ease-in-out infinite}@keyframes twinkle{0%,100%{opacity:.2;transform:scale(.8)}50%{opacity:1;transform:scale(1)}}

/* ===== LOADING SCREEN ===== */
#loader{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10000;transition:opacity .5s ease}#loader.hidden{opacity:0;pointer-events:none}.loader-content{text-align:center}.loader-text{font-size:1.5rem;font-weight:500;margin-bottom:2rem;opacity:0;animation:fadeInUp 1s ease .2s forwards}.progress-bar{width:300px;height:4px;background:rgba(255,255,255,.2);border-radius:2px;overflow:hidden;opacity:0;animation:fadeInUp 1s ease .4s forwards}.progress-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);width:0%;animation:fillProgress 1.5s ease forwards;border-radius:2px}@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fillProgress{to{width:100%}}

/* ===== TOP NAVIGATION ===== */
.top-nav{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:rgba(255,255,255,.1);backdrop-filter:blur(20px);z-index:1000;border-bottom:1px solid rgba(255,255,255,.1);transition:background .3s ease,border-color .3s ease}.nav-left{display:flex;align-items:center;gap:2rem}.clock{font-size:1.2rem;font-weight:600;letter-spacing:.5px}.date{font-size:.9rem;opacity:.8;font-weight:400}.weather{display:flex;align-items:center;gap:.5rem;font-size:.9rem;opacity:.8}.settings-btn{background:rgba(255,255,255,.08);backdrop-filter:blur(25px);border:1px solid rgba(255,255,255,.2);border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;color:rgba(255,255,255,.9);box-shadow:0 8px 32px rgba(0,0,0,.1),inset 0 1px 0 rgba(255,255,255,.2)}.settings-btn:hover{background:rgba(255,255,255,.15);border-color:rgba(255,255,255,.3);transform:rotate(90deg) scale(1.05);box-shadow:0 12px 35px rgba(0,0,0,.15),inset 0 1px 0 rgba(255,255,255,.3)}

/* ===== MAIN CONTENT ===== */
.main-content{padding-top:120px;padding-bottom:3rem;min-height:100vh;display:flex;flex-direction:column;align-items:center}.greeting{font-size:2.5rem;font-weight:700;margin-bottom:3rem;text-align:center;opacity:0;animation:fadeInUp 1s ease .5s forwards}

/* ===== SEARCH BAR ===== */
.search-container{position:relative;margin-bottom:4rem;opacity:0;animation:fadeInUp 1s ease .7s forwards}.search-bar{width:600px;max-width:90vw;height:60px;background:rgba(255,255,255,.08);backdrop-filter:blur(25px);border:1px solid rgba(255,255,255,.2);border-radius:30px;padding:0 25px;font-size:1.1rem;color:white;outline:none;transition:all .3s ease;font-family:inherit;box-shadow:0 8px 32px rgba(0,0,0,.1),inset 0 1px 0 rgba(255,255,255,.2)}.search-bar::placeholder{color:rgba(255,255,255,.6)}.search-bar:hover{background:rgba(255,255,255,.12);border-color:rgba(255,255,255,.3);box-shadow:0 12px 35px rgba(0,0,0,.15),inset 0 1px 0 rgba(255,255,255,.25)}.search-bar:focus{transform:scale(1.02);box-shadow:0 20px 40px rgba(0,0,0,.2),inset 0 1px 0 rgba(255,255,255,.3);border-color:rgba(255,255,255,.4);background:rgba(255,255,255,.15)}

/* ===== SHORTCUTS & GROUPS CONTAINER ===== */
.shortcuts-container{opacity:0;animation:fadeInUp 1s ease .9s forwards;width:100%;max-width:1200px;padding:0 2rem;text-align:center}.shortcuts-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:2rem;justify-content:center;margin-bottom:2rem;align-items:flex-start}

/* ===== SHORTCUT CARD ===== */
.shortcut-card{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:white;padding:.8rem;background:rgba(255,255,255,.05);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.15);border-radius:14px;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,.08),inset 0 1px 0 rgba(255,255,255,.1)}.shortcut-card::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,transparent,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .3s ease}.shortcut-card:hover::before{opacity:1}.shortcut-card:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 30px rgba(0,0,0,.2),inset 0 1px 0 rgba(255,255,255,.2);border-color:rgba(255,255,255,.4);background:rgba(255,255,255,.15)}.shortcut-icon{font-size:1.2rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:8px;transition:all .3s ease;font-weight:400;color:rgba(255,255,255,.95)}.shortcut-icon img{width:100%;height:100%;object-fit:contain;border-radius:6px}.shortcut-card:hover .shortcut-icon{transform:scale(1.05);background:rgba(255,255,255,.15);border-color:rgba(255,255,255,.25);box-shadow:0 4px 15px rgba(0,0,0,.1)}.shortcut-name{font-size:.9rem;font-weight:500;text-align:center;line-height:1.3;opacity:.9}.shortcut-actions{position:absolute;top:5px;right:5px;display:flex;gap:5px;opacity:0;transition:opacity .3s ease}.shortcut-card:hover .shortcut-actions{opacity:1}.shortcut-action-btn{background:rgba(0,0,0,.3);border:none;color:white;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:10px}

/* ===== ACTION BUTTONS BAR ===== */
.shortcut-actions-bar{display:flex;gap:1rem;justify-content:center}.action-btn{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:white;padding:8px 16px;border-radius:20px;cursor:pointer;transition:all .3s ease;font-size:.8rem}.action-btn:hover{background:rgba(255,255,255,.2)}.action-btn.btn-primary{background:#667eea;border-color:#667eea}.action-btn.btn-primary:hover{background:#5a6fd8}

/* ===== NEW: GROUP STYLES ===== */
.group-container{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1rem;display:flex;flex-direction:column;gap:1rem;grid-column:1/-1;transition:background .3s ease,border-color .3s ease}.group-header{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.group-title{font-size:1rem;font-weight:600;outline:none}.group-title:focus{background:rgba(255,255,255,.1);border-radius:4px;padding:0 4px}.group-actions{display:none;gap:.5rem}.group-delete-btn{background:rgba(255,82,82,.7);border:none;color:white;width:20px;height:20px;border-radius:50%;cursor:pointer;font-size:10px;display:flex;align-items:center;justify-content:center}.group-delete-btn:hover{background:rgba(255,82,82,1)}.group-shortcuts-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem}

/* ===== NEW: ORGANIZE MODE & DRAG-DROP STYLES ===== */
.organize-mode .shortcut-card{cursor:grab}.organize-mode .shortcut-card:active{cursor:grabbing}.organize-mode .group-actions{display:flex}.organize-mode .shortcut-actions{display:none!important}.organize-mode .shortcut-card a{pointer-events:none}.shortcut-card.dragging{opacity:.5;transform:scale(.9)}.group-container.drag-over,.shortcuts-container.drag-over{border:2px dashed #fff;background:rgba(255,255,255,.2)}.group-shortcuts-grid:empty::after{content:"Drop shortcuts here";display:block;color:rgba(255,255,255,.5);padding:2rem;text-align:center;border:2px dashed rgba(255,255,255,.2);border-radius:12px}

/* ===== SIDEBAR ===== */
.sidebar{position:fixed;top:0;right:-400px;width:400px;height:100vh;background:rgba(0,0,0,.9);backdrop-filter:blur(20px);z-index:2000;transition:right .4s cubic-bezier(.4,0,.2,1);padding:2rem;overflow-y:auto}.sidebar.open{right:0}.sidebar-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1500;opacity:0;pointer-events:none;transition:opacity .4s ease}.sidebar-overlay.open{opacity:1;pointer-events:auto}.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-title{font-size:1.5rem;font-weight:600}.close-btn{background:none;border:none;color:white;font-size:1.4rem;cursor:pointer;padding:.4rem;border-radius:50%;transition:background .3s ease}.close-btn:hover{background:rgba(255,255,255,.1)}.setting-group{margin-bottom:2rem}.setting-label{font-size:1rem;font-weight:500;margin-bottom:.8rem;display:block}.toggle-switch{position:relative;width:60px;height:30px;background:rgba(255,255,255,.2);border-radius:15px;cursor:pointer;transition:all .3s ease}.toggle-switch.active{background:#667eea}.toggle-handle{position:absolute;top:3px;left:3px;width:24px;height:24px;background:white;border-radius:50%;transition:transform .3s ease}.toggle-switch.active .toggle-handle{transform:translateX(30px)}.theme-list{display:flex;flex-direction:column;gap:1rem;margin-top:.5rem}.theme-item{display:flex;align-items:center;padding:.8rem;border:1px solid rgba(255,255,255,.15);border-radius:12px;background:rgba(255,255,255,.05);backdrop-filter:blur(10px);cursor:pointer;transition:all .3s ease}.theme-item:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.3);transform:translateY(-2px)}.theme-item.active{border-color:white;background:rgba(255,255,255,.15);box-shadow:0 0 15px rgba(255,255,255,.2)}.theme-swatch{width:40px;height:40px;border-radius:8px;margin-right:1rem;border:2px solid rgba(255,255,255,.2);flex-shrink:0}.theme-info{display:flex;flex-direction:column}.theme-name{font-size:1rem;font-weight:500}.theme-description{font-size:.8rem;opacity:.7;margin-top:.2rem}

/* ===== MODAL STYLES ===== */
.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(10px);z-index:3000;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity .3s ease}.modal-overlay.open{opacity:1;pointer-events:auto}.modal-content{background:rgba(255,255,255,.1);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid rgba(255,255,255,.2);transform:scale(.95);transition:transform .3s ease}.modal-overlay.open .modal-content{transform:scale(1)}.modal-title{font-size:1.5rem;margin-bottom:1.5rem}.form-group{margin-bottom:1rem}.form-label{display:block;margin-bottom:.5rem;font-size:.9rem}.form-input{width:100%;padding:.8rem;border-radius:8px;border:1px solid rgba(255,255,255,.2);background:rgba(0,0,0,.2);color:white;font-size:1rem}.modal-actions{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.modal-btn{padding:.5rem 1rem;border-radius:8px;border:none;cursor:pointer;font-weight:500}.btn-secondary{background:rgba(255,255,255,.1);color:white}.btn-primary{background:#667eea;color:white}

/* ===== DARK MODE STYLES ===== */
body.dark-mode{color:#d1d1d1}body.dark-mode .top-nav,body.dark-mode .shortcut-card{background:rgba(0,0,0,.4);border-color:rgba(255,255,255,.1)}body.dark-mode .search-bar{background:rgba(0,0,0,.3);border-color:rgba(255,255,255,.2)}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width:768px){.top-nav{padding:1rem}.nav-left{gap:1rem}.clock{font-size:1rem}.date{font-size:.8rem}.weather{display:none}.greeting{font-size:2rem;margin-bottom:2rem}.search-bar{width:90vw;height:50px;font-size:1rem}.shortcuts-grid,.group-shortcuts-grid{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:1.5rem}.shortcut-card{padding:1rem}.shortcut-icon{font-size:1rem;width:28px;height:28px}.sidebar{width:100vw;right:-100vw}}@media (max-width:480px){.shortcuts-grid,.group-shortcuts-grid{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:1rem}.shortcut-card{padding:.8rem}}